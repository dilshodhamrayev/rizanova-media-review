import React, { useContext, useEffect, useState } from "react";
import { useTranslation } from "next-i18next";
import ReactTooltip from "react-tooltip";
import { get } from "../../utils/request";
import { GlobalContext } from "../context";
import Tooltip from 'react-tooltip-lite';

export default function BigFavoriteBtn({ model, type = "video", className = "", fill }) {
    const { t, i18n } = useTranslation();

    const [favorite, setFavorite] = useState("none");

    useEffect(() => {
        setFavorite(model.favorite);
    }, [model, model.favorite]);

    useEffect(() => {
        ReactTooltip.rebuild();
    });

    const handleClick = async (handleType) => {

        let res = type === "video" ? await get(`account/favorite-video?video_id=${model.id}&type=${handleType}`) : (type === "music" ? await get(`account/favorite-music?music_id=${model.id}`) : await get(`account/favorite-album?album_id=${model.id}`));

        if (res?.status === 'liked') {
            setFavorite("liked");
            // toast.success(t('Добавлено в понравившиеся'), { toastId: "video-favorite", updateId: 'video-favorite', hideProgressBar: true });
        } else if (res?.status === "disliked") {
            setFavorite("disliked");
            // toast.success(t('Добавлено в понравившиеся'), { toastId: "video-favorite", updateId: 'video-favorite', hideProgressBar: true });
        } else {
            setFavorite("none");
            // toast.dismiss("video-favorite")
        }
    }

    const globalContext = useContext(GlobalContext);

    return (
        globalContext.store.auth.isAuth ? (
            <>
                <Tooltip className={"theme-thing me-4 mb-2 pe-1 " + globalContext.store.theme + " " + className} direction="down" content={t("Нравится")}>
                    <a className="d-flex align-items-center d-flex" onClick={() => {
                        handleClick("like");
                    }} role="button">
                        {favorite == "liked" ? (
                            <svg className="liked-heart" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M10.286 0.026879C9.94783 0.130962 9.68639 0.397095 9.54128 0.78503C9.42804 1.08766 9.3691 1.59141 9.39859 2.0043L9.42409 2.36161L9.1921 2.94304C8.42457 4.8668 7.47358 6.70755 6.74692 7.67614C6.5878 7.88822 6.30645 8.20665 6.12171 8.38379C5.7445 8.74548 5.56516 8.97407 5.29848 9.43335L5.11523 9.74884L4.85234 9.65923C4.59595 9.57189 4.55096 9.56962 3.04174 9.56864C1.39472 9.56755 1.29865 9.5767 0.918581 9.77028C0.585132 9.94011 0.245581 10.3451 0.0881465 10.7606C0.0177018 10.9465 0.0134383 11.1335 0.00229075 14.5351C-0.00494539 16.7525 0.00522431 18.2084 0.029084 18.3621C0.144588 19.1053 0.751485 19.711 1.48742 19.8174C1.62307 19.837 2.33252 19.8531 3.06396 19.8532C4.51999 19.8533 4.76558 19.8273 5.11816 19.6354L5.31201 19.5299L6.02635 19.6149C7.85522 19.8328 9.13883 19.9137 11.7332 19.9748C13.1636 20.0084 13.7702 20.0084 14.1778 19.9747C15.7922 19.8411 17.0012 19.3285 17.6149 18.5176C17.9636 18.0568 18.1038 17.632 18.1096 17.0189C18.1132 16.6337 18.1152 16.6256 18.2405 16.4908C18.6 16.1042 18.8712 15.6289 18.9783 15.1976C19.0674 14.8391 19.0614 14.271 18.9646 13.8923L18.887 13.589L19.0061 13.4159C19.323 12.9553 19.4961 12.3702 19.4575 11.8901C19.4271 11.5122 19.2716 11.0404 19.0796 10.7432L18.9206 10.4972L18.9794 10.3246C19.1424 9.84604 19.141 9.23973 18.9756 8.78534C18.87 8.495 18.5787 8.08911 18.3237 7.87683C17.3552 7.07073 15.466 6.89288 13.0097 7.3766C12.6811 7.4413 12.3877 7.49434 12.3576 7.49441C12.313 7.49453 12.3077 7.43273 12.3286 7.16018C12.3605 6.74542 12.4758 6.25281 12.7768 5.2455C13.0706 4.26193 13.1616 3.8413 13.2102 3.24125C13.2519 2.72592 13.2208 2.27376 13.1165 1.88168C12.8831 1.00391 12.1801 0.306624 11.3029 0.0828123C10.9899 0.00298018 10.4587 -0.0262382 10.286 0.026879ZM4.60936 10.7899C4.68047 10.8384 4.77548 10.9276 4.8205 10.9884C4.90213 11.0986 4.90233 11.1075 4.90233 14.6875V18.2763L4.79688 18.4356C4.60999 18.718 4.56301 18.725 2.93965 18.7121C1.58071 18.7012 1.52028 18.6976 1.41662 18.6201C1.35725 18.5758 1.27237 18.4909 1.22801 18.4315C1.1481 18.3245 1.14728 18.29 1.13699 14.7547L1.12659 11.1859L1.2162 11.0165C1.38334 10.7004 1.37442 10.7019 3.02825 10.7019C4.46945 10.7019 4.48099 10.7026 4.60936 10.7899Z" />
                            </svg>
                        ) : (
                            <svg {...(fill ? { fill } : {})} xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M10.286 0.026879C9.94783 0.130962 9.68639 0.397095 9.54128 0.78503C9.42804 1.08766 9.3691 1.59141 9.39859 2.0043L9.42409 2.36161L9.1921 2.94304C8.42457 4.8668 7.47358 6.70755 6.74692 7.67614C6.5878 7.88822 6.30645 8.20665 6.12171 8.38379C5.7445 8.74548 5.56516 8.97407 5.29848 9.43335L5.11523 9.74884L4.85234 9.65923C4.59595 9.57189 4.55096 9.56962 3.04174 9.56864C1.39472 9.56755 1.29865 9.5767 0.918581 9.77028C0.585132 9.94011 0.245581 10.3451 0.0881465 10.7606C0.0177018 10.9465 0.0134383 11.1335 0.00229075 14.5351C-0.00494539 16.7525 0.00522431 18.2084 0.029084 18.3621C0.144588 19.1053 0.751485 19.711 1.48742 19.8174C1.62307 19.837 2.33252 19.8531 3.06396 19.8532C4.51999 19.8533 4.76558 19.8273 5.11816 19.6354L5.31201 19.5299L6.02635 19.6149C7.85522 19.8328 9.13883 19.9137 11.7332 19.9748C13.1636 20.0084 13.7702 20.0084 14.1778 19.9747C15.7922 19.8411 17.0012 19.3285 17.6149 18.5176C17.9636 18.0568 18.1038 17.632 18.1096 17.0189C18.1132 16.6337 18.1152 16.6256 18.2405 16.4908C18.6 16.1042 18.8712 15.6289 18.9783 15.1976C19.0674 14.8391 19.0614 14.271 18.9646 13.8923L18.887 13.589L19.0061 13.4159C19.323 12.9553 19.4961 12.3702 19.4575 11.8901C19.4271 11.5122 19.2716 11.0404 19.0796 10.7432L18.9206 10.4972L18.9794 10.3246C19.1424 9.84604 19.141 9.23973 18.9756 8.78534C18.87 8.495 18.5787 8.08911 18.3237 7.87683C17.3552 7.07073 15.466 6.89288 13.0097 7.3766C12.6811 7.4413 12.3877 7.49434 12.3576 7.49441C12.313 7.49453 12.3077 7.43273 12.3286 7.16018C12.3605 6.74542 12.4758 6.25281 12.7768 5.2455C13.0706 4.26193 13.1616 3.8413 13.2102 3.24125C13.2519 2.72592 13.2208 2.27376 13.1165 1.88168C12.8831 1.00391 12.1801 0.306624 11.3029 0.0828123C10.9899 0.00298018 10.4587 -0.0262382 10.286 0.026879ZM11.1127 1.20081C11.697 1.39764 11.9951 1.81092 12.0763 2.5368C12.1428 3.13142 12.0299 3.80841 11.6728 4.9552C11.2972 6.16128 11.1578 6.90371 11.189 7.53251C11.2253 8.26524 11.5554 8.6669 12.1221 8.66776C12.1991 8.66788 12.5687 8.60588 12.9435 8.53C14.0983 8.2961 14.3997 8.26277 15.3849 8.25992C16.1092 8.25781 16.353 8.27122 16.6357 8.32868C17.8141 8.56818 18.2386 9.24415 17.8088 10.1962C17.615 10.6253 17.6263 10.706 17.9325 11.0819C18.4781 11.7517 18.4553 12.3463 17.8567 13.0581C17.6425 13.3127 17.6219 13.5202 17.7758 13.8713C17.8755 14.0985 17.8869 14.1685 17.8876 14.5547C17.8882 14.9519 17.8795 15.0029 17.7737 15.2187C17.6949 15.3794 17.552 15.5577 17.3164 15.7893C17.1145 15.9878 16.9623 16.1718 16.9458 16.2373C16.9305 16.2984 16.9402 16.5103 16.9674 16.7082C17.0251 17.1288 16.9892 17.3688 16.8229 17.6743C16.5388 18.1964 15.7839 18.5865 14.6695 18.7871C14.3423 18.846 14.0651 18.8544 12.6665 18.8473C9.99211 18.8339 7.93208 18.7233 6.21266 18.501L6.03664 18.4782L6.04939 15.0106C6.05831 12.5883 6.04865 11.4177 6.01732 11.1276C5.97265 10.714 5.97292 10.7111 6.08483 10.4235C6.28314 9.91398 6.49764 9.59915 6.9746 9.11773C7.71308 8.37241 8.30413 7.48569 9.0457 6.01069C9.50987 5.08748 9.92503 4.16079 10.2949 3.22232L10.5527 2.56813L10.5437 1.99022C10.5388 1.67238 10.5488 1.34632 10.5659 1.26563C10.5946 1.13014 10.6074 1.11895 10.7334 1.11895C10.8083 1.11895 10.9791 1.15579 11.1127 1.20081ZM4.60936 10.7899C4.68047 10.8384 4.77548 10.9276 4.8205 10.9884C4.90213 11.0986 4.90233 11.1075 4.90233 14.6875V18.2763L4.79688 18.4356C4.60999 18.7181 4.56301 18.725 2.93965 18.7121C1.58071 18.7012 1.52028 18.6976 1.41662 18.6201C1.35725 18.5758 1.27237 18.4909 1.22801 18.4315C1.1481 18.3245 1.14728 18.29 1.13699 14.7547L1.12659 11.1859L1.2162 11.0165C1.38334 10.7004 1.37442 10.7019 3.02825 10.7019C4.46945 10.7019 4.48099 10.7026 4.60936 10.7899Z" />
                            </svg>
                        )}
                        {model.vote?.likes != 0 && <span className="ms-2">{model.vote?.likes}</span>}
                    </a>
                </Tooltip>

                <Tooltip className={"theme-thing d-flex align-items-center me-4 mb-2 pe-1 " + globalContext.store.theme + " " + className} direction="down" content={t("Не нравится")}>
                    <a onClick={() => {
                        handleClick("dislike");
                    }} role="button">
                        {favorite == "disliked" ? (
                            <svg className="liked-heart" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8.6507 0.022552C10.7343 0.0737074 11.7607 0.139775 13.5773 0.339739L14.6725 0.460289L14.863 0.357039C15.2132 0.167212 15.4621 0.141341 16.9421 0.140832C17.6877 0.140597 18.4019 0.157349 18.5291 0.178132C19.2654 0.298212 19.8563 0.894581 19.9713 1.6335C19.9952 1.78708 20.0051 3.24671 19.9974 5.46291C19.9838 9.38172 19.9961 9.17319 19.7529 9.5865C19.6262 9.80196 19.2866 10.1249 19.0722 10.2338C18.706 10.4199 18.5568 10.4337 16.924 10.4326C15.427 10.4316 15.3835 10.4294 15.1243 10.3415L14.8587 10.2513L14.7152 10.5088C14.4764 10.9375 14.2582 11.2158 13.7916 11.6867C13.5468 11.9339 13.2466 12.2771 13.1246 12.4493C12.4045 13.4658 11.5791 15.0724 10.7824 17.008L10.5644 17.5375L10.5569 18.1441C10.5444 19.1589 10.345 19.6511 9.84305 19.9064C9.67785 19.9905 9.60347 20.0028 9.27943 19.9995C8.61369 19.993 8.01891 19.7613 7.5439 19.3236C6.90963 18.7391 6.65256 17.9353 6.73127 16.7825C6.77017 16.2133 6.87745 15.7165 7.17759 14.7161C7.46723 13.7507 7.58952 13.2268 7.6177 12.8309C7.64458 12.4532 7.68568 12.4737 7.13232 12.5881C6.06874 12.8078 4.92465 12.921 4.11205 12.8871C2.34174 12.8131 1.29294 12.2413 0.90415 11.1381C0.778129 10.7807 0.777423 10.1801 0.902462 9.77723L0.990799 9.49268L0.895821 9.36626C0.681856 9.08152 0.488993 8.55787 0.451977 8.16123C0.40714 7.68064 0.564322 7.11315 0.874876 6.63459L1.02762 6.39921L0.94891 6.09979C0.850985 5.72746 0.844382 5.16115 0.933741 4.80005C1.04396 4.35468 1.29526 3.91655 1.67065 3.51544C1.78665 3.39145 1.79019 3.37634 1.79876 2.96749C1.83082 1.43792 2.96317 0.451835 5.09444 0.0974651C5.67991 0.000125043 6.78754 -0.0232021 8.6507 0.022552ZM15.4255 1.3495C15.3262 1.39435 15.2282 1.48038 15.17 1.57369L15.0755 1.72508L15.0632 5.16937C15.0546 7.57461 15.064 8.67384 15.0942 8.81322C15.1375 9.01275 15.2517 9.16015 15.4364 9.25468C15.4953 9.28481 15.9768 9.29859 16.9696 9.29859C18.6029 9.29859 18.6076 9.29781 18.7785 9.00097L18.8663 8.84848L18.8669 5.31489C18.8676 1.56563 18.8705 1.62677 18.6863 1.46359C18.4761 1.27748 18.4574 1.27541 16.9814 1.27607C15.7061 1.27666 15.5726 1.28296 15.4255 1.3495Z" fill="black" />
                            </svg>
                        ) : (
                            <svg {...(fill ? { fill } : {})} xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8.6507 0.022552C10.7343 0.0737074 11.7607 0.139775 13.5773 0.339739L14.6725 0.460289L14.863 0.357039C15.2132 0.167212 15.4621 0.141341 16.9421 0.140832C17.6877 0.140597 18.4019 0.157349 18.5291 0.178132C19.2654 0.298212 19.8563 0.894582 19.9713 1.6335C19.9952 1.78708 20.0051 3.24671 19.9974 5.46291C19.9838 9.38172 19.9961 9.17319 19.7529 9.5865C19.6262 9.80196 19.2866 10.1249 19.0722 10.2338C18.706 10.4199 18.5568 10.4337 16.924 10.4326C15.427 10.4316 15.3835 10.4294 15.1243 10.3415L14.8587 10.2513L14.7152 10.5088C14.4764 10.9375 14.2582 11.2158 13.7916 11.6867C13.5468 11.9339 13.2466 12.2771 13.1246 12.4493C12.4045 13.4658 11.5791 15.0724 10.7824 17.008L10.5644 17.5375L10.5569 18.1441C10.5444 19.1589 10.345 19.6511 9.84305 19.9064C9.67785 19.9905 9.60347 20.0028 9.27943 19.9995C8.61369 19.993 8.01891 19.7613 7.5439 19.3236C6.90963 18.7391 6.65256 17.9353 6.73127 16.7825C6.77017 16.2133 6.87745 15.7165 7.17759 14.7161C7.46723 13.7507 7.58952 13.2268 7.6177 12.8309C7.64458 12.4532 7.68568 12.4737 7.13232 12.5881C6.06874 12.8078 4.92465 12.921 4.11205 12.8871C2.34174 12.8131 1.29294 12.2413 0.90415 11.1381C0.77813 10.7807 0.777422 10.1801 0.902462 9.77723L0.990799 9.49268L0.895821 9.36626C0.681856 9.08152 0.488993 8.55787 0.451977 8.16123C0.407139 7.68064 0.564322 7.11315 0.874876 6.63459L1.02762 6.39921L0.94891 6.09979C0.850985 5.72746 0.844383 5.16115 0.933741 4.80005C1.04397 4.35468 1.29526 3.91655 1.67065 3.51544C1.78665 3.39145 1.79019 3.37634 1.79876 2.96749C1.83082 1.43792 2.96317 0.451835 5.09444 0.0974651C5.67991 0.000125043 6.78754 -0.0232021 8.6507 0.022552ZM5.18101 1.23314C3.57056 1.51205 2.78724 2.22509 2.94918 3.26468C3.03209 3.79694 3.03441 3.78985 2.64829 4.16837C2.42808 4.38427 2.25812 4.59237 2.1756 4.74717C1.95657 5.15802 1.94623 5.65254 2.14668 6.12691C2.31726 6.5306 2.28779 6.68133 1.96168 7.07335C1.72017 7.36369 1.60039 7.66768 1.60149 7.98741C1.60267 8.33153 1.70897 8.58688 1.99622 8.93596C2.11501 9.08031 2.2147 9.24516 2.22897 9.32082C2.25494 9.45871 2.24217 9.50533 2.06361 9.92482C1.90945 10.287 1.90717 10.6911 2.05787 10.9472C2.41369 11.552 3.24833 11.8002 4.76043 11.7509C5.57515 11.7244 5.96642 11.6748 6.95612 11.4731C7.72533 11.3162 7.97171 11.3033 8.1988 11.4081C8.55616 11.5728 8.73271 11.9069 8.7601 12.4701C8.79079 13.1003 8.65066 13.8433 8.2737 15.0491C7.91678 16.1908 7.80663 16.8452 7.86876 17.4557C7.9455 18.2097 8.29916 18.6626 8.94542 18.8346C9.25448 18.9168 9.34403 18.9057 9.38235 18.7801C9.40042 18.721 9.41559 18.3819 9.4161 18.0267L9.41697 17.3809L9.58806 16.9504C9.9831 15.9562 10.3358 15.1672 10.8303 14.1715C11.6218 12.5779 12.2461 11.6185 12.9316 10.9425C13.4782 10.4034 13.694 10.093 13.8984 9.55218C13.9968 9.29182 13.9981 9.27518 13.9549 8.85173C13.9247 8.5547 13.9147 7.33065 13.9233 4.9687L13.936 1.51944L13.3662 1.45557C11.7272 1.27177 10.6013 1.20284 8.72929 1.17169C7.96205 1.15893 7.32546 1.13952 7.31465 1.12856C7.26341 1.07662 5.61959 1.15717 5.18101 1.23314ZM15.4255 1.3495C15.3263 1.39435 15.2282 1.48038 15.17 1.57369L15.0755 1.72508L15.0632 5.16937C15.0546 7.57461 15.064 8.67384 15.0942 8.81322C15.1375 9.01275 15.2517 9.16015 15.4364 9.25468C15.4953 9.28481 15.9768 9.29859 16.9696 9.29859C18.6029 9.29859 18.6076 9.29781 18.7785 9.00097L18.8663 8.84848L18.8669 5.31489C18.8676 1.56563 18.8705 1.62677 18.6863 1.46359C18.4761 1.27748 18.4574 1.27541 16.9814 1.27607C15.7061 1.27666 15.5726 1.28296 15.4255 1.3495Z" fill="black" />
                            </svg>
                        )}
                        {/* <span>{t("Не нравится")}</span> */}
                    </a>
                </Tooltip>
            </>
        ) : (
            <>
                <div>
                    <Tooltip className={"theme-thing noauth d-flex align-items-center me-4 mb-2 pe-1 " + globalContext.store.theme + " " + className} direction="down" content={t("Нравится")}>
                        <a role="button" className="d-flex" data-event="click" data-tip data-for={"favoriteTip"}>
                            <svg  {...(fill ? { fill } : {})} xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M10.286 0.026879C9.94783 0.130962 9.68639 0.397095 9.54128 0.78503C9.42804 1.08766 9.3691 1.59141 9.39859 2.0043L9.42409 2.36161L9.1921 2.94304C8.42457 4.8668 7.47358 6.70755 6.74692 7.67614C6.5878 7.88822 6.30645 8.20665 6.12171 8.38379C5.7445 8.74548 5.56516 8.97407 5.29848 9.43335L5.11523 9.74884L4.85234 9.65923C4.59595 9.57189 4.55096 9.56962 3.04174 9.56864C1.39472 9.56755 1.29865 9.5767 0.918581 9.77028C0.585132 9.94011 0.245581 10.3451 0.0881465 10.7606C0.0177018 10.9465 0.0134383 11.1335 0.00229075 14.5351C-0.00494539 16.7525 0.00522431 18.2084 0.029084 18.3621C0.144588 19.1053 0.751485 19.711 1.48742 19.8174C1.62307 19.837 2.33252 19.8531 3.06396 19.8532C4.51999 19.8533 4.76558 19.8273 5.11816 19.6354L5.31201 19.5299L6.02635 19.6149C7.85522 19.8328 9.13883 19.9137 11.7332 19.9748C13.1636 20.0084 13.7702 20.0084 14.1778 19.9747C15.7922 19.8411 17.0012 19.3285 17.6149 18.5176C17.9636 18.0568 18.1038 17.632 18.1096 17.0189C18.1132 16.6337 18.1152 16.6256 18.2405 16.4908C18.6 16.1042 18.8712 15.6289 18.9783 15.1976C19.0674 14.8391 19.0614 14.271 18.9646 13.8923L18.887 13.589L19.0061 13.4159C19.323 12.9553 19.4961 12.3702 19.4575 11.8901C19.4271 11.5122 19.2716 11.0404 19.0796 10.7432L18.9206 10.4972L18.9794 10.3246C19.1424 9.84604 19.141 9.23973 18.9756 8.78534C18.87 8.495 18.5787 8.08911 18.3237 7.87683C17.3552 7.07073 15.466 6.89288 13.0097 7.3766C12.6811 7.4413 12.3877 7.49434 12.3576 7.49441C12.313 7.49453 12.3077 7.43273 12.3286 7.16018C12.3605 6.74542 12.4758 6.25281 12.7768 5.2455C13.0706 4.26193 13.1616 3.8413 13.2102 3.24125C13.2519 2.72592 13.2208 2.27376 13.1165 1.88168C12.8831 1.00391 12.1801 0.306624 11.3029 0.0828123C10.9899 0.00298018 10.4587 -0.0262382 10.286 0.026879ZM11.1127 1.20081C11.697 1.39764 11.9951 1.81092 12.0763 2.5368C12.1428 3.13142 12.0299 3.80841 11.6728 4.9552C11.2972 6.16128 11.1578 6.90371 11.189 7.53251C11.2253 8.26524 11.5554 8.6669 12.1221 8.66776C12.1991 8.66788 12.5687 8.60588 12.9435 8.53C14.0983 8.2961 14.3997 8.26277 15.3849 8.25992C16.1092 8.25781 16.353 8.27122 16.6357 8.32868C17.8141 8.56818 18.2386 9.24415 17.8088 10.1962C17.615 10.6253 17.6263 10.706 17.9325 11.0819C18.4781 11.7517 18.4553 12.3463 17.8567 13.0581C17.6425 13.3127 17.6219 13.5202 17.7758 13.8713C17.8755 14.0985 17.8869 14.1685 17.8876 14.5547C17.8882 14.9519 17.8795 15.0029 17.7737 15.2187C17.6949 15.3794 17.552 15.5577 17.3164 15.7893C17.1145 15.9878 16.9623 16.1718 16.9458 16.2373C16.9305 16.2984 16.9402 16.5103 16.9674 16.7082C17.0251 17.1288 16.9892 17.3688 16.8229 17.6743C16.5388 18.1964 15.7839 18.5865 14.6695 18.7871C14.3423 18.846 14.0651 18.8544 12.6665 18.8473C9.99211 18.8339 7.93208 18.7233 6.21266 18.501L6.03664 18.4782L6.04939 15.0106C6.05831 12.5883 6.04865 11.4177 6.01732 11.1276C5.97265 10.714 5.97292 10.7111 6.08483 10.4235C6.28314 9.91398 6.49764 9.59915 6.9746 9.11773C7.71308 8.37241 8.30413 7.48569 9.0457 6.01069C9.50987 5.08748 9.92503 4.16079 10.2949 3.22232L10.5527 2.56813L10.5437 1.99022C10.5388 1.67238 10.5488 1.34632 10.5659 1.26563C10.5946 1.13014 10.6074 1.11895 10.7334 1.11895C10.8083 1.11895 10.9791 1.15579 11.1127 1.20081ZM4.60936 10.7899C4.68047 10.8384 4.77548 10.9276 4.8205 10.9884C4.90213 11.0986 4.90233 11.1075 4.90233 14.6875V18.2763L4.79688 18.4356C4.60999 18.7181 4.56301 18.725 2.93965 18.7121C1.58071 18.7012 1.52028 18.6976 1.41662 18.6201C1.35725 18.5758 1.27237 18.4909 1.22801 18.4315C1.1481 18.3245 1.14728 18.29 1.13699 14.7547L1.12659 11.1859L1.2162 11.0165C1.38334 10.7004 1.37442 10.7019 3.02825 10.7019C4.46945 10.7019 4.48099 10.7026 4.60936 10.7899Z" />
                            </svg>
                            {model.vote?.likes != 0 && <span className="ms-2">{model.vote?.likes}</span>}
                        </a>
                    </Tooltip>
                </div>
                <div>
                    <Tooltip className={"theme-thing noauth d-flex align-items-center me-4 mb-2 pe-1 " + globalContext.store.theme + " " + className} direction="down" content={t("Не нравится")}>
                        <a role="button" data-event="click" data-tip data-for={"favoriteTip"}>
                            <svg {...(fill ? { fill } : {})} xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8.6507 0.022552C10.7343 0.0737074 11.7607 0.139775 13.5773 0.339739L14.6725 0.460289L14.863 0.357039C15.2132 0.167212 15.4621 0.141341 16.9421 0.140832C17.6877 0.140597 18.4019 0.157349 18.5291 0.178132C19.2654 0.298212 19.8563 0.894582 19.9713 1.6335C19.9952 1.78708 20.0051 3.24671 19.9974 5.46291C19.9838 9.38172 19.9961 9.17319 19.7529 9.5865C19.6262 9.80196 19.2866 10.1249 19.0722 10.2338C18.706 10.4199 18.5568 10.4337 16.924 10.4326C15.427 10.4316 15.3835 10.4294 15.1243 10.3415L14.8587 10.2513L14.7152 10.5088C14.4764 10.9375 14.2582 11.2158 13.7916 11.6867C13.5468 11.9339 13.2466 12.2771 13.1246 12.4493C12.4045 13.4658 11.5791 15.0724 10.7824 17.008L10.5644 17.5375L10.5569 18.1441C10.5444 19.1589 10.345 19.6511 9.84305 19.9064C9.67785 19.9905 9.60347 20.0028 9.27943 19.9995C8.61369 19.993 8.01891 19.7613 7.5439 19.3236C6.90963 18.7391 6.65256 17.9353 6.73127 16.7825C6.77017 16.2133 6.87745 15.7165 7.17759 14.7161C7.46723 13.7507 7.58952 13.2268 7.6177 12.8309C7.64458 12.4532 7.68568 12.4737 7.13232 12.5881C6.06874 12.8078 4.92465 12.921 4.11205 12.8871C2.34174 12.8131 1.29294 12.2413 0.90415 11.1381C0.77813 10.7807 0.777422 10.1801 0.902462 9.77723L0.990799 9.49268L0.895821 9.36626C0.681856 9.08152 0.488993 8.55787 0.451977 8.16123C0.407139 7.68064 0.564322 7.11315 0.874876 6.63459L1.02762 6.39921L0.94891 6.09979C0.850985 5.72746 0.844383 5.16115 0.933741 4.80005C1.04397 4.35468 1.29526 3.91655 1.67065 3.51544C1.78665 3.39145 1.79019 3.37634 1.79876 2.96749C1.83082 1.43792 2.96317 0.451835 5.09444 0.0974651C5.67991 0.000125043 6.78754 -0.0232021 8.6507 0.022552ZM5.18101 1.23314C3.57056 1.51205 2.78724 2.22509 2.94918 3.26468C3.03209 3.79694 3.03441 3.78985 2.64829 4.16837C2.42808 4.38427 2.25812 4.59237 2.1756 4.74717C1.95657 5.15802 1.94623 5.65254 2.14668 6.12691C2.31726 6.5306 2.28779 6.68133 1.96168 7.07335C1.72017 7.36369 1.60039 7.66768 1.60149 7.98741C1.60267 8.33153 1.70897 8.58688 1.99622 8.93596C2.11501 9.08031 2.2147 9.24516 2.22897 9.32082C2.25494 9.45871 2.24217 9.50533 2.06361 9.92482C1.90945 10.287 1.90717 10.6911 2.05787 10.9472C2.41369 11.552 3.24833 11.8002 4.76043 11.7509C5.57515 11.7244 5.96642 11.6748 6.95612 11.4731C7.72533 11.3162 7.97171 11.3033 8.1988 11.4081C8.55616 11.5728 8.73271 11.9069 8.7601 12.4701C8.79079 13.1003 8.65066 13.8433 8.2737 15.0491C7.91678 16.1908 7.80663 16.8452 7.86876 17.4557C7.9455 18.2097 8.29916 18.6626 8.94542 18.8346C9.25448 18.9168 9.34403 18.9057 9.38235 18.7801C9.40042 18.721 9.41559 18.3819 9.4161 18.0267L9.41697 17.3809L9.58806 16.9504C9.9831 15.9562 10.3358 15.1672 10.8303 14.1715C11.6218 12.5779 12.2461 11.6185 12.9316 10.9425C13.4782 10.4034 13.694 10.093 13.8984 9.55218C13.9968 9.29182 13.9981 9.27518 13.9549 8.85173C13.9247 8.5547 13.9147 7.33065 13.9233 4.9687L13.936 1.51944L13.3662 1.45557C11.7272 1.27177 10.6013 1.20284 8.72929 1.17169C7.96205 1.15893 7.32546 1.13952 7.31465 1.12856C7.26341 1.07662 5.61959 1.15717 5.18101 1.23314ZM15.4255 1.3495C15.3263 1.39435 15.2282 1.48038 15.17 1.57369L15.0755 1.72508L15.0632 5.16937C15.0546 7.57461 15.064 8.67384 15.0942 8.81322C15.1375 9.01275 15.2517 9.16015 15.4364 9.25468C15.4953 9.28481 15.9768 9.29859 16.9696 9.29859C18.6029 9.29859 18.6076 9.29781 18.7785 9.00097L18.8663 8.84848L18.8669 5.31489C18.8676 1.56563 18.8705 1.62677 18.6863 1.46359C18.4761 1.27748 18.4574 1.27541 16.9814 1.27607C15.7061 1.27666 15.5726 1.28296 15.4255 1.3495Z" fill="black" />
                            </svg>
                            {/* <span>{t("Не нравится")}</span> */}
                        </a>
                    </Tooltip>
                </div>
            </>
        )

    );
}