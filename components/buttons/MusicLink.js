import React, { useContext } from "react";
import Tooltip from 'react-tooltip-lite';
import Link from 'next/link';
import { useTranslation } from "next-i18next";
import { GlobalContext } from "../context";

export default function MusicLink({ model, className = "" }) {

    const { t } = useTranslation();

    const globalContext = useContext(GlobalContext);

    return (
        <Tooltip className={globalContext.store.theme + " " + "theme-thing d-flex align-items-center me-4 mb-2 pe-1 " + className} direction="down" content={t("Музыка с видео")}>
            <Link href={model.albums?.length > 0 ? `/music/album/${model.albums[0].id}/track/${model.id}` : `/music/${model.id}`}>
                <a>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
                        <path fillRule="evenodd" clipRule="evenodd" d="M12.7612 1.71865C9.26613 2.60791 6.40212 3.33649 6.39677 3.3377C6.39141 3.33891 6.38699 5.73311 6.38699 8.65816V13.9764L6.14258 13.7963C5.85973 13.5878 5.49304 13.3972 5.14695 13.2788C4.53077 13.0679 3.66435 13.064 3.02391 13.2692C1.86573 13.6402 0.989216 14.5589 0.669959 15.7363C0.594055 16.0162 0.580407 16.1583 0.583457 16.6358C0.586664 17.1315 0.600233 17.246 0.691349 17.5468C1.0686 18.7915 1.96283 19.6677 3.19989 20.0046C3.6297 20.1216 4.43731 20.13 4.86187 20.0219C5.93012 19.7498 6.8139 19.0252 7.24958 18.0644C7.3118 17.9272 7.4024 17.686 7.45097 17.5284L7.53923 17.2419L7.55077 12.6674C7.55714 10.1514 7.57505 8.08057 7.59058 8.06552C7.61181 8.04487 17.9298 5.41248 17.9895 5.41248C17.996 5.41248 18.0013 6.70629 18.0013 8.28763V11.1628L17.8021 11.0053C17.5106 10.7749 17.1684 10.5948 16.7675 10.4607C14.9259 9.84474 12.9655 10.8417 12.3344 12.7153C12.1208 13.3493 12.1208 14.2127 12.3343 14.8465C12.7498 16.0802 13.7818 16.9906 15.0293 17.2241C15.3718 17.2883 16.0428 17.2813 16.3791 17.2102C17.6731 16.9365 18.6969 15.9653 19.0663 14.6609L19.1549 14.3481L19.1653 7.22111C19.171 3.30125 19.1623 0.0958508 19.1458 0.0979625C19.1293 0.100074 16.2562 0.829392 12.7612 1.71865ZM18.0013 2.90472V4.19016L17.5418 4.31013C16.4197 4.60307 7.6402 6.82028 7.60235 6.82028C7.57302 6.82028 7.56015 6.42864 7.56015 5.53574V4.2512L9.91626 3.6543C11.2121 3.32597 13.5394 2.73508 15.088 2.34117C16.6365 1.94722 17.9256 1.62366 17.9524 1.6221C17.9906 1.61987 18.0013 1.90088 18.0013 2.90472ZM16.398 11.5756C17.1387 11.8079 17.7248 12.4386 17.9241 13.2178C18.1139 13.9602 17.9148 14.7608 17.3981 15.3317C17.117 15.6424 16.8137 15.841 16.4056 15.9816C15.7608 16.2039 14.9832 16.108 14.4169 15.7364C13.1867 14.9292 12.9844 13.2505 13.9895 12.188C14.6249 11.5161 15.4994 11.2938 16.398 11.5756ZM4.55689 14.3321C4.67084 14.3555 4.91193 14.4453 5.09256 14.5315C5.64958 14.7975 6.08005 15.2994 6.29364 15.9319C6.40275 16.2549 6.3963 16.9547 6.28082 17.3218C5.93184 18.4309 4.72117 19.137 3.59724 18.887C2.74412 18.6972 2.12249 18.1263 1.82725 17.2615C1.71361 16.9285 1.7237 16.2755 1.8484 15.8947C1.9647 15.5396 2.25463 15.0957 2.52458 14.8596C2.75733 14.6559 3.18472 14.4315 3.49318 14.3508C3.75304 14.2829 4.27318 14.2737 4.55689 14.3321Z" fill="black" />
                    </svg>
                </a>
            </Link>
        </Tooltip>
    );
}